TODO:
  definite assignment analysis
  require method return
  write a proper readme
